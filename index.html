<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AI vs. Human Essays</title>
<script src="https://d3js.org/d3.v7.min.js"></script>
<style>
    body {
        background-color: #121212;
        color: white;
        font-family: Arial, sans-serif;
        text-align: center;
        margin: 0;
        padding: 0;
    }
    svg {
        display: block;
        margin: auto;
    }
    button {
        background-color: #333;
        color: white;
        border: none;
        padding: 10px 20px;
        margin: 20px 5px;
        cursor: pointer;
        font-size: 16px;
        border-radius: 5px;
    }
    button:disabled {
        background-color: #555;
        cursor: not-allowed;
    }
</style>
</head>
<body>

<h1>AI vs. Human Essays</h1>
<svg width="900" height="600"></svg>
<div>
    <button id="prevBtn">Previous</button>
    <button id="nextBtn">Next</button>
</div>

<script>
const svg = d3.select("svg");
const width = +svg.attr("width");
const height = +svg.attr("height");

let currentScene = 0;

// ==== Scene 1 ====
function showFirstScene() {
    svg.selectAll("*").remove();

    const margin = { top: 40, right: 30, bottom: 50, left: 60 };
    const chartWidth = width - margin.left - margin.right;
    const chartHeight = height - margin.top - margin.bottom;

    const chartG = svg.append("g")
        .attr("transform", `translate(${margin.left},${margin.top})`);

    const data = [
        { type: "AI", score: 78 },
        { type: "Human", score: 82 }
    ];

    const x = d3.scaleBand()
        .domain(data.map(d => d.type))
        .range([0, chartWidth])
        .padding(0.4);

    const y = d3.scaleLinear()
        .domain([0, 100])
        .range([chartHeight, 0]);

    chartG.append("g")
        .attr("transform", `translate(0,${chartHeight})`)
        .call(d3.axisBottom(x))
        .selectAll("text")
        .style("fill", "white");

    chartG.append("g")
        .call(d3.axisLeft(y))
        .selectAll("text")
        .style("fill", "white");

    chartG.append("text")
        .attr("transform", "rotate(-90)")
        .attr("y", -50)
        .attr("x", -chartHeight / 2)
        .attr("dy", "-3em")
        .style("fill", "white")
        .style("text-anchor", "middle")
        .text("Average Score");

    chartG.selectAll(".bar")
        .data(data)
        .enter()
        .append("rect")
        .attr("x", d => x(d.type))
        .attr("width", x.bandwidth())
        .attr("y", chartHeight)
        .attr("height", 0)
        .attr("fill", d => d.type === "AI" ? "#4DA8DA" : "#F4A261")
        .transition()
        .duration(1000)
        .ease(d3.easeCubicInOut)
        .attr("y", d => y(d.score))
        .attr("height", d => chartHeight - y(d.score));

    chartG.selectAll(".label")
        .data(data)
        .enter()
        .append("text")
        .text(d => d.score)
        .attr("x", d => x(d.type) + x.bandwidth() / 2)
        .attr("y", d => y(d.score) - 5)
        .attr("text-anchor", "middle")
        .style("fill", "white");

    svg.append("text")
        .attr("x", width / 2)
        .attr("y", 30)
        .attr("text-anchor", "middle")
        .style("fill", "white")
        .style("font-size", "20px")
        .text("Average Essay Scores");
}

// ==== Scene 2 ====
function showSecondScene() {
    svg.selectAll("*").remove();

    const margin = { top: 40, right: 30, bottom: 50, left: 60 };
    const chartWidth = width - margin.left - margin.right;
    const chartHeight = height - margin.top - margin.bottom;

    const chartG = svg.append("g")
        .attr("transform", `translate(${margin.left},${margin.top})`);

    const data = [
        { type: "AI", words: 650 },
        { type: "Human", words: 720 }
    ];

    const x = d3.scaleBand()
        .domain(data.map(d => d.type))
        .range([0, chartWidth])
        .padding(0.4);

    const y = d3.scaleLinear()
        .domain([0, 800])
        .range([chartHeight, 0]);

    chartG.append("g")
        .attr("transform", `translate(0,${chartHeight})`)
        .call(d3.axisBottom(x))
        .selectAll("text")
        .style("fill", "white");

    chartG.append("g")
        .call(d3.axisLeft(y))
        .selectAll("text")
        .style("fill", "white");

    chartG.append("text")
        .attr("transform", "rotate(-90)")
        .attr("y", -50)
        .attr("x", -chartHeight / 2)
        .attr("dy", "-3em")
        .style("fill", "white")
        .style("text-anchor", "middle")
        .text("Average Word Count");

    chartG.selectAll(".bar")
        .data(data)
        .enter()
        .append("rect")
        .attr("x", d => x(d.type))
        .attr("width", x.bandwidth())
        .attr("y", chartHeight)
        .attr("height", 0)
        .attr("fill", d => d.type === "AI" ? "#4DA8DA" : "#F4A261")
        .transition()
        .duration(1000)
        .ease(d3.easeCubicInOut)
        .attr("y", d => y(d.words))
        .attr("height", d => chartHeight - y(d.words));

    chartG.selectAll(".label")
        .data(data)
        .enter()
        .append("text")
        .text(d => d.words)
        .attr("x", d => x(d.type) + x.bandwidth() / 2)
        .attr("y", d => y(d.words) - 5)
        .attr("text-anchor", "middle")
        .style("fill", "white");

    svg.append("text")
        .attr("x", width / 2)
        .attr("y", 30)
        .attr("text-anchor", "middle")
        .style("fill", "white")
        .style("font-size", "20px")
        .text("Average Word Count in Essays");
}

// ==== Scene 3 ====
function showThirdScene() {
    svg.selectAll("*").remove();

    const margin = { top: 40, right: 30, bottom: 100, left: 60 };
    const chartWidth = width - margin.left - margin.right;
    const chartHeight = height - margin.top - margin.bottom;

    const chartG = svg.append("g")
        .attr("transform", `translate(${margin.left},${margin.top})`);

    const data = [
        { word: "with (AI)", count: 35, type: "AI" },
        { word: "that (AI)", count: 30, type: "AI" },
        { word: "from (AI)", count: 28, type: "AI" },
        { word: "this (AI)", count: 25, type: "AI" },
        { word: "also (AI)", count: 22, type: "AI" },
        { word: "that (Human)", count: 33, type: "Human" },
        { word: "electoral (Human)", count: 29, type: "Human" },
        { word: "voting (Human)", count: 26, type: "Human" },
        { word: "votes (Human)", count: 24, type: "Human" },
        { word: "states (Human)", count: 20, type: "Human" }
    ];

    const x = d3.scaleBand()
        .domain(data.map(d => d.word))
        .range([0, chartWidth])
        .padding(0.2);

    const y = d3.scaleLinear()
        .domain([0, d3.max(data, d => d.count)])
        .range([chartHeight, 0]);

    const color = d3.scaleOrdinal()
        .domain(["AI", "Human"])
        .range(["#4DA8DA", "#F4A261"]);

    chartG.append("g")
        .attr("transform", `translate(0,${chartHeight})`)
        .call(d3.axisBottom(x))
        .selectAll("text")
        .style("text-anchor", "end")
        .attr("dx", "-0.8em")
        .attr("dy", "0.15em")
        .attr("transform", "rotate(-40)")
        .style("fill", "white");

    chartG.append("g")
        .call(d3.axisLeft(y))
        .selectAll("text")
        .style("fill", "white");

    chartG.append("text")
        .attr("transform", "rotate(-90)")
        .attr("y", -50)
        .attr("x", -chartHeight / 2)
        .attr("dy", "-3em")
        .style("fill", "white")
        .style("text-anchor", "middle")
        .text("Word Frequency");

    chartG.selectAll(".bar")
        .data(data)
        .enter()
        .append("rect")
        .attr("x", d => x(d.word))
        .attr("width", x.bandwidth())
        .attr("y", chartHeight)
        .attr("height", 0)
        .attr("fill", d => color(d.type))
        .transition()
        .duration(1000)
        .ease(d3.easeCubicInOut)
        .attr("y", d => y(d.count))
        .attr("height", d => chartHeight - y(d.count));

    chartG.selectAll(".label")
        .data(data)
        .enter()
        .append("text")
        .text(d => d.count)
        .attr("x", d => x(d.word) + x.bandwidth() / 2)
        .attr("y", d => y(d.count) - 5)
        .attr("text-anchor", "middle")
        .style("fill", "white");

    svg.append("text")
        .attr("x", width / 2)
        .attr("y", 30)
        .attr("text-anchor", "middle")
        .style("fill", "white")
        .style("font-size", "20px")
        .text("Most Common Words in AI vs. Human Essays");

    // Legend
    const legend = svg.append("g")
        .attr("transform", `translate(${width / 2 - 60},${height - 20})`);

    const legendData = [
        { label: "AI", color: "#4DA8DA" },
        { label: "Human", color: "#F4A261" }
    ];

    legend.selectAll("rect")
        .data(legendData)
        .enter()
        .append("rect")
        .attr("x", (d, i) => i * 100)
        .attr("width", 15)
        .attr("height", 15)
        .attr("fill", d => d.color);

    legend.selectAll("text")
        .data(legendData)
        .enter()
        .append("text")
        .attr("x", (d, i) => i * 100 + 20)
        .attr("y", 12)
        .style("fill", "white")
        .style("font-size", "14px")
        .text(d => d.label);
}

// ==== Scene Control ====
function updateScene() {
    if (currentScene === 0) showFirstScene();
    if (currentScene === 1) showSecondScene();
    if (currentScene === 2) showThirdScene();

    d3.select("#prevBtn").attr("disabled", currentScene === 0 ? true : null);
    d3.select("#nextBtn").attr("disabled", currentScene === 2 ? true : null);
}

d3.select("#prevBtn").on("click", () => {
    if (currentScene > 0) {
        currentScene--;
        updateScene();
    }
});

d3.select("#nextBtn").on("click", () => {
    if (currentScene < 2) {
        currentScene++;
        updateScene();
    }
});

updateScene();
</script>

</body>
</html>
